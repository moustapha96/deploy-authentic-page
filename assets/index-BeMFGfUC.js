import{u as p,aD as h,v as b,w,x as j,j as e,Y as y,T as P,V as N,y as v,X as n}from"./index-CakHYcA3.js";import{u as S,r as i,L as k}from"./vendor-Q6Ve1T67.js";const F=()=>{const{t:s}=p(),l=S(),[o,a]=i.useState(!1),{urlApi:c}=i.useContext(h),m=b({email:w().required("Please enter your email")}),{control:u,handleSubmit:d,reset:f}=j({resolver:v(m),defaultValues:{email:""}}),x=async g=>{a(!0);try{const t=await fetch(c+"password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}),r=await t.json();if(r){a(!1),n.success(r.message),f(),l("/auth/sign-in");return}if(!t.ok)throw a(!1),n.error(r.message),new Error(`Erreur ${t.status}: ${t.statusText}`)}catch(t){console.error(t),a(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:s("forgotPassword.title")}),e.jsxs("form",{onSubmit:d(x),className:"mt-10 shrink",children:[e.jsx(P,{containerClassName:"mb-4",label:s("forgotPassword.emailLabel"),name:"email",labelClassName:"block text-base/normal text-zinc-200 font-semibold",className:"block rounded border-white/10 bg-transparent py-2.5 text-white/80 focus:border-white/25 focus:outline-0 focus:ring-0",placeholder:s("forgotPassword.emailPlaceholder"),fullWidth:!0,control:u}),e.jsx("div",{className:"mb-6 flex flex-col justify-center gap-4",children:e.jsxs("button",{type:"submit",className:"relative inline-flex w-full items-center justify-center rounded bg-primary px-6 py-3 text-base capitalize text-white transition-all hover:bg-primary-700",children:[s(o?"forgotPassword.loading":"forgotPassword.forgotPasswordButton"),o&&e.jsx(N,{className:"animate-spin"})]})})]}),e.jsxs("p",{className:"shrink text-center text-zinc-200",children:[s("forgotPassword.alreadyHaveAccount"),e.jsx(k,{to:"/auth/sign-in",className:"ms-1 text-primary",children:e.jsx("b",{children:s("forgotPassword.signIn")})})]})]})};export{F as default};
